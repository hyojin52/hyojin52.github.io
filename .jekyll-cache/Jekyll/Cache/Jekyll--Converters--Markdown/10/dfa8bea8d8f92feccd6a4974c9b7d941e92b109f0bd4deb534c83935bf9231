I"î5<ul>
  <li>ëª©í‘œ: ì›¹ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œ</li>
  <li>ì£¼ìš”ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬: Node.js, Rhino, Nashorn</li>
</ul>

<hr />
<p>Â Â Â Â Â â€» í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” â€œìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ Node.jsë¥¼ ì´ìš©í•œ ì›¹ í¬ë¡¤ë§ í…Œí¬ë‹‰â€ ë„ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤. <br />
Â Â Â Â Â Â Â Â  ë¬¸ì œê°€ ë  ê²½ìš° ì‚­ì œí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.<br />
Â Â Â Â Â â€» ê¸€ ë‚´ìš© ì¤‘ì— ë¯¸í¡í•œ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ^^ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”!<br /></p>

<hr />

<p><br />
í”„ë¡œì íŠ¸ ì‹œì‘ì„ ì•Œë¦¬ëŠ” ì²«ë²ˆì§¸ ì±•í„°! Node.jsë¥¼ í™œìš©í•˜ì—¬ ì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ í•´ë³´ì. ì•„ë˜ì˜ ì½”ë“œëŠ” <a href="https://github.com/Jpub/JSWebCrawler">JPub Github</a>ì—ì„œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•˜ë‹¤.<br /><br /></p>

<h2 id="1-ì›¹-í˜ì´ì§€-ë‹¤ìš´ë¡œë“œnodejs">1. ì›¹ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œ(Node.js)</h2>
<hr />
<h3 id="1-ê¸°ë³¸ì½”ë“œ">1) ê¸°ë³¸ì½”ë“œ</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// url ì— ìˆëŠ” íŒŒì¼ì„ savepath ì— ë‹¤ìš´ë¡œë“œí•œë‹¤</span>
<span class="c1">// ë‹¤ìš´ë¡œë“œí•  URLì„ ì§€ì •</span>
<span class="c1">// var url = "http://www.naver.com/";</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">http://hisnet.handong.edu/</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// ì €ì¥í•  ìœ„ì¹˜ë¥¼ ì§€ì •</span>
<span class="kd">var</span> <span class="nx">savepath</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">test.html</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// ì‚¬ìš© ëª¨ë“ˆ ì •ì˜ ---- (â€» 1)</span>
<span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">http</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// HTTP ëª¨ë“ˆ</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// íŒŒì¼ì²˜ë¦¬ ê´€ë ¨ ëª¨ë“ˆ</span>

<span class="c1">// ì¶œë ¥ ì§€ì • --- (â€» 2)</span>
<span class="kd">var</span> <span class="nx">outfile</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="nx">savepath</span><span class="p">);</span>

<span class="c1">// ë¹„ë™ê¸°ë¡œ URLì˜ íŒŒì¼ ë‹¤ìš´ë¡œë“œ --- (â€» 3)</span>
<span class="nx">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">outfile</span><span class="p">);</span> <span class="c1">// --- (â€» 4)</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="c1">// --- (â€» 5)</span>
        <span class="nx">outfile</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>
<p>ìœ„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ test.html íŒŒì¼ì´ ìƒì„±ëœë‹¤. url ë³€ìˆ˜ì— <a href="http://www.naver.com/">Naver ì£¼ì†Œ</a>ë¥¼ ì…ë ¥í•œ ê²½ìš°, test.html íŒŒì¼ì—ì„œ 302 Found ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤. 302ëŠ” Redirectë¡œ, ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ê°€ ì„ì‹œì ìœ¼ë¡œ ìƒˆë¡œìš´ URLë¡œ ì´ë™í–ˆìŒ(Temporarily Moved)ì„ ë‚˜íƒ€ë‚¸ë‹¤. í•´ë‹¹ ì£¼ì†ŒëŠ” httpì´ê³ , í˜„ì¬ Naver í™ˆí˜ì´ì§€ëŠ” httpsì´ê¸° ë•Œë¬¸ì— 302 Foundì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì€ ê²ƒ ê°™ë‹¤.<br /></p>

<p>ë‹¤ìŒìœ¼ë¡œ url ë³€ìˆ˜ì— <a href="http://hisnet.handong.edu/">í•œë™ëŒ€í•™êµ ì£¼ì†Œ</a>ë¥¼ ì…ë ¥í•œ ê²½ìš°, ì•„ë˜ì™€ ê°™ì€ test.html íŒŒì¼ì„ ìƒì„±í•˜ì˜€ë‹¤.</p>

<p><img src="/assets/img/web_crawling/02-01-result.png" alt="result" />
<br /></p>

<h3 id="2-í•¨ìˆ˜í™”í•œ-ì½”ë“œ">2) í•¨ìˆ˜í™”í•œ ì½”ë“œ</h3>
<p>ìœ„ì˜ ê¸°ë³¸ì½”ë“œë¥¼ í•¨ìˆ˜í™”í•˜ì—¬ ë¦¬íŒ©í† ë§í•œ ì½”ë“œì´ë‹¤.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë‹¤ìš´ë¡œë“œ</span>
<span class="nx">download</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">http://jpub.tistory.com/539</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">spring.html</span><span class="dl">"</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">ok, spring.</span><span class="dl">"</span><span class="p">);</span> <span class="p">});</span>

<span class="nx">download</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">http://jpub.tistory.com/537</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">angular.html</span><span class="dl">"</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">ok, angular.</span><span class="dl">"</span><span class="p">);</span> <span class="p">});</span>

<span class="c1">// url ì˜ íŒŒì¼ì„ savepath ì— ë‹¤ìš´ë¡œë“œí•˜ëŠ” í•¨ìˆ˜</span>
<span class="kd">function</span> <span class="nx">download</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">savepath</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">http</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">outfile</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="nx">savepath</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">outfile</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">outfile</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
      <span class="nx">callback</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>
<p><br /><br /></p>

<h1 id="2ì›¹-í˜ì´ì§€-ë‹¤ìš´ë¡œë“œrhinonarshon">2.ì›¹ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œ(Rhino/Narshon)</h1>
<hr />
<p>Rhinoì™€ Narshonì˜ ê²½ìš° â€œìë°”â€ë¥¼ ê¸°ë°˜ìœ¼ë¡œí•˜ê³  ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ìœ¼ë¡œ Node.jsì™€ ë¹„êµí–ˆì„ ë•Œ ìë°” APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê°•ë ¥í•œ ì¥ì ì´ ì¡´ì¬í•œë‹¤. ì•„ë˜ ì½”ë“œëŠ” ìœ„ì˜ Node.jsë¥¼ í™œìš©í•œ ì›¹ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œì™€ ë™ì¼í•œ ë™ì‘ì„ í•˜ëŠ” ì½”ë“œì´ë‹¤.<br />
ë‹¤ë§Œ, í•´ë‹¹ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” Rhinoì™€ Narshonì„ ì„¤ì¹˜í•˜ëŠ” ê³¼ì •ì´ ìš”êµ¬ëœë‹¤.<br /></p>

<h3 id="1-ê¸°ë³¸ì½”ë“œ-1">1) ê¸°ë³¸ì½”ë“œ</h3>
<pre><code class="language-Java">// url ì— ìˆëŠ” íŒŒì¼ì„ savepath ì— ë‹¤ìš´ë¡œë“œí•œë‹¤
var url = "http://jpub.tistory.com/";
var savepath = "test.html";

// ë‹¤ìš´ë¡œë“œ
var aUrl = new java.net.URL(url);
var conn = aUrl.openConnection(); // URL ì— ì ‘ì† --- ( â€» 1)
var ins = conn.getInputStream(); // ì…ë ¥ìŠ¤íŠ¸ë¦¼ì„ íšë“
var file = new java.io.File(savepath); ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì„ íšë“ ---( â€» 2)
var out = new java.io.FileOutputStream(file);

// ì…ë ¥ìŠ¤íŠ¸ë¦¼ì„ ì½ìœ¼ë©´ì„œ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì— ì“´ë‹¤---- ( â€» 3)
var b;
while ((b = ins.read()) != -1) {
    out.write(b);
}
out.close(); // ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì„ ë‹«ëŠ”ë‹¤. --- ( â€» 4)
ins.close(); // ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ë‹«ëŠ”ë‹¤.
</code></pre>

<h3 id="2-í•¨ìˆ˜í™”í•œ-ì½”ë“œ-1">2) í•¨ìˆ˜í™”í•œ ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë‹¤ìš´ë¡œë“œ</span>
<span class="n">download</span><span class="o">(</span>
  <span class="s">"http://jpub.tistory.com/539"</span><span class="o">,</span>
  <span class="s">"spring.html"</span><span class="o">);</span>

<span class="n">download</span><span class="o">(</span>
  <span class="s">"http://jpub.tistory.com/537"</span><span class="o">,</span>
  <span class="s">"angular.html"</span><span class="o">);</span>

<span class="n">print</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>

<span class="c1">// url ì˜ íŒŒì¼ì„ savepath ì— ë‹¤ìš´ë¡œë“œí•˜ëŠ” í•¨ìˆ˜</span>
<span class="n">function</span> <span class="nf">download</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">savepath</span><span class="o">)</span> <span class="o">{</span>
  <span class="kt">var</span> <span class="n">aUrl</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">URL</span><span class="o">(</span><span class="n">url</span><span class="o">);</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="kt">var</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">aUrl</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
    <span class="kt">var</span> <span class="n">ins</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
    <span class="kt">var</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">File</span><span class="o">(</span><span class="n">savepath</span><span class="o">);</span>
    <span class="kt">var</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">FileOutputStream</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
    <span class="kt">var</span> <span class="n">b</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">((</span><span class="n">b</span> <span class="o">=</span> <span class="n">ins</span><span class="o">.</span><span class="na">read</span><span class="o">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> <span class="c1">// ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì„ ë‹«ëŠ”ë‹¤.</span>
    <span class="n">ins</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> <span class="c1">// ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ë‹«ëŠ”ë‹¤.</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">Error</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br /></p>

<h2 id="3-references">3. References</h2>
<hr />
<p>1) <a href="http://www.yes24.com/Product/Goods/34907983?scode=032&amp;OzSrank=1">ë„ì„œ_ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ Node.jsë¥¼ ì´ìš©í•œ ì›¹ í¬ë¡¤ë§ í…Œí¬ë‹‰</a><br />
2) <a href="https://github.com/Jpub/JSWebCrawler">ì˜ˆì œ ì½”ë“œ_JPub Github</a>
<br /><br /></p>
:ET